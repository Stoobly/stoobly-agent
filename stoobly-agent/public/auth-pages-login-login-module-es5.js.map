{"version":3,"sources":["webpack:///src/app/modules/auth/pages/login/login.component.scss","webpack:///src/app/modules/auth/pages/login/login.component.html","webpack:///src/app/modules/auth/pages/login/login-routing.module.ts","webpack:///src/app/modules/auth/pages/login/login.module.ts","webpack:///src/app/modules/auth/pages/login/login.component.ts"],"names":["routes","path","component","LoginRoutingModule","imports","forChild","exports","LoginModule","declarations","LoginComponent","router","fb","cd","snackbar","tokenService","omniauthCallbacksApi","inputType","visible","icVisibility","icVisibilityOff","form","group","email","required","password","tokenOptions","oAuthBase","apiUrl","signInOAuth","subscribe","res","navigate","error","value","signIn","login","status","open","duration","markForCheck","selector","template","changeDetection","OnPush","animations"],"mappings":"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","file":"auth-pages-login-login-module-es5.js","sourcesContent":["export default \".ui.button.google-auth__button {\\n  padding: 6px 16px;\\n  background: #FFFFFF;\\n  box-shadow: 0 0 1px 0 rgba(0, 0, 0, 0.12), 0 1px 1px 0 rgba(0, 0, 0, 0.24);\\n  border-radius: 2px;\\n  font-size: 16px;\\n  line-height: 1.5em;\\n  letter-spacing: 0.22px;\\n  color: rgba(0, 0, 0, 0.54);\\n}\\n\\n.ui.button.google-auth__button:hover {\\n  box-shadow: 0 0 2px 0 rgba(0, 0, 0, 0.12), 0 2px 2px 0 rgba(0, 0, 0, 0.24);\\n}\\n\\n.ui.button.google-auth__button .google-auth__logo {\\n  display: inline-block;\\n  margin-right: 16px;\\n  height: 24px;\\n  width: 24px;\\n  line-height: 24px;\\n  vertical-align: top;\\n}\\n\\n.ui.button.google-auth__button.disabled, .ui.button.google-auth__button:disabled {\\n  background: #EEEEEE;\\n  box-shadow: 0 0 2px 0 rgba(0, 0, 0, 0.12), 0 2px 2px 0 rgba(0, 0, 0, 0.24);\\n}\\n\\n.link {\\n  color: #1976d2;\\n}\\n\\n.link:hover {\\n  text-decoration: underline;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uL2xvZ2luLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsaUJBQUE7RUFDQSxtQkFBQTtFQUNBLDBFQUFBO0VBQ0Esa0JBQUE7RUFDQSxlQUFBO0VBQ0Esa0JBQUE7RUFDQSxzQkFBQTtFQUNBLDBCQUFBO0FBQ0Y7O0FBRUE7RUFDRSwwRUFBQTtBQUNGOztBQUVBO0VBQ0UscUJBQUE7RUFDQSxrQkFBQTtFQUNBLFlBQUE7RUFDQSxXQUFBO0VBQ0EsaUJBQUE7RUFDQSxtQkFBQTtBQUNGOztBQUVBO0VBQ0UsbUJBQUE7RUFDQSwwRUFBQTtBQUNGOztBQUVBO0VBQ0UsY0FBQTtBQUNGOztBQUVBO0VBQ0UsMEJBQUE7QUFDRiIsImZpbGUiOiJsb2dpbi5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi51aS5idXR0b24uZ29vZ2xlLWF1dGhfX2J1dHRvbiB7XG4gIHBhZGRpbmc6IDZweCAxNnB4O1xuICBiYWNrZ3JvdW5kOiAjRkZGRkZGO1xuICBib3gtc2hhZG93OiAwIDAgMXB4IDAgcmdiYSgwLCAwLCAwLCAwLjEyKSwgMCAxcHggMXB4IDAgcmdiYSgwLCAwLCAwLCAwLjI0KTtcbiAgYm9yZGVyLXJhZGl1czogMnB4O1xuICBmb250LXNpemU6IDE2cHg7XG4gIGxpbmUtaGVpZ2h0OiAxLjVlbTtcbiAgbGV0dGVyLXNwYWNpbmc6IDAuMjJweDtcbiAgY29sb3I6IHJnYmEoMCwgMCwgMCwgMC41NCk7XG59XG5cbi51aS5idXR0b24uZ29vZ2xlLWF1dGhfX2J1dHRvbjpob3ZlciB7XG4gIGJveC1zaGFkb3c6IDAgMCAycHggMCByZ2JhKDAsIDAsIDAsIDAuMTIpLCAwIDJweCAycHggMCByZ2JhKDAsIDAsIDAsIDAuMjQpO1xufVxuXG4udWkuYnV0dG9uLmdvb2dsZS1hdXRoX19idXR0b24gLmdvb2dsZS1hdXRoX19sb2dvIHtcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICBtYXJnaW4tcmlnaHQ6IDE2cHg7XG4gIGhlaWdodDogMjRweDtcbiAgd2lkdGg6IDI0cHg7XG4gIGxpbmUtaGVpZ2h0OiAyNHB4O1xuICB2ZXJ0aWNhbC1hbGlnbjogdG9wO1xufVxuXG4udWkuYnV0dG9uLmdvb2dsZS1hdXRoX19idXR0b24uZGlzYWJsZWQsIC51aS5idXR0b24uZ29vZ2xlLWF1dGhfX2J1dHRvbjpkaXNhYmxlZCB7XG4gIGJhY2tncm91bmQ6ICNFRUVFRUU7XG4gIGJveC1zaGFkb3c6IDAgMCAycHggMCByZ2JhKDAsIDAsIDAsIDAuMTIpLCAwIDJweCAycHggMCByZ2JhKDAsIDAsIDAsIDAuMjQpO1xufVxuXG4ubGluayB7XG4gIGNvbG9yOiAjMTk3NmQyO1xufVxuXG4ubGluazpob3ZlciB7XG4gIHRleHQtZGVjb3JhdGlvbjogdW5kZXJsaW5lO1xufSJdfQ== */\";","export default \"<div class=\\\"w-full h-full bg-pattern\\\" fxLayout=\\\"column\\\" fxLayoutAlign=\\\"center center\\\">\\n  <div @fadeInUp class=\\\"card overflow-hidden w-full max-w-xs\\\">\\n    <div class=\\\"p-6 pb-0\\\" fxLayout=\\\"column\\\" fxLayoutAlign=\\\"center center\\\">\\n      <div class=\\\"fill-current text-center\\\">\\n        <img class=\\\"w-16\\\" src=\\\"assets/img/demo/logo.svg\\\">\\n      </div>\\n    </div>\\n\\n    <div class=\\\"text-center mt-4\\\">\\n      <h2 class=\\\"title m-0\\\">Welcome Back</h2>\\n      <h4 class=\\\"body-2 text-secondary m-0\\\">Sign in with your credentials below</h4>\\n    </div>\\n\\n    <div [formGroup]=\\\"form\\\" class=\\\"p-6\\\" fxLayout=\\\"column\\\" fxLayoutGap=\\\"16px\\\">\\n      <div fxFlex=\\\"auto\\\" fxLayout=\\\"column\\\">\\n        <mat-form-field fxFlex=\\\"grow\\\">\\n          <mat-label>E-Mail</mat-label>\\n          <input formControlName=\\\"email\\\" matInput required>\\n          <mat-error *ngIf=\\\"form.get('email').hasError('required')\\\">We need an email address to log you in</mat-error>\\n        </mat-form-field>\\n        <mat-form-field fxFlex=\\\"grow\\\">\\n          <mat-label>Password</mat-label>\\n          <input [type]=\\\"inputType\\\" formControlName=\\\"password\\\" matInput required>\\n          <button (click)=\\\"toggleVisibility()\\\" mat-icon-button matSuffix matTooltip=\\\"Toggle Visibility\\\" type=\\\"button\\\">\\n            <mat-icon *ngIf=\\\"visible\\\" [icIcon]=\\\"icVisibility\\\"></mat-icon>\\n            <mat-icon *ngIf=\\\"!visible\\\" [icIcon]=\\\"icVisibilityOff\\\"></mat-icon>\\n          </button>\\n          <mat-hint>Click the eye to toggle visibility</mat-hint>\\n          <mat-error *ngIf=\\\"form.get('password').hasError('required')\\\">We need a password to log you in</mat-error>\\n        </mat-form-field>\\n      </div>\\n\\n      <div class=\\\"mb-5\\\" fxLayout=\\\"row\\\" fxLayoutAlign=\\\"space-between center\\\">\\n        <mat-checkbox class=\\\"caption\\\" color=\\\"primary\\\">Remember Me</mat-checkbox>\\n        <a [routerLink]=\\\"['/forgot-password']\\\" class=\\\"caption\\\">Forgot Password?</a>\\n      </div>\\n\\n      <button (click)=\\\"login()\\\" color=\\\"primary\\\" mat-raised-button type=\\\"button\\\">\\n        SIGN IN\\n      </button>\\n\\n      <p class=\\\"text-secondary text-center\\\">\\n        OR\\n      </p>\\n\\n      <button class=\\\"ui button google-auth__button\\\" (click)=\\\"loginWithGoogle()\\\">\\n        <img class=\\\"google-auth__logo\\\" src=\\\"https://upload.wikimedia.org/wikipedia/commons/5/53/Google_%22G%22_Logo.svg\\\" />\\n        Sign in with Google\\n      </button>\\n\\n      <p class=\\\"mt-5 text-center\\\">\\n        <span class=\\\"text-secondary\\\">Don't have an account?</span><br/>\\n        <a class=\\\"link\\\" [routerLink]=\\\"['/register']\\\">Click here to create one</a>\\n      </p>\\n    </div>\\n  </div>\\n</div>\\n\";","import { NgModule } from '@angular/core';\nimport { RouterModule } from '@angular/router';\n\nimport { VexRoutes } from '@vex/interfaces/vex-route.interface';\n\nimport { LoginComponent } from './login.component';\n\nconst routes: VexRoutes = [\n  {\n    path: '',\n    component: LoginComponent,\n  },\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class LoginRoutingModule {\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { FlexLayoutModule } from '@angular/flex-layout';\nimport { ReactiveFormsModule } from '@angular/forms';\n\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatCheckboxModule } from '@angular/material/checkbox';\nimport { MatIconModule } from '@angular/material/icon';\nimport { MatInputModule } from '@angular/material/input';\nimport { MatSnackBarModule } from '@angular/material/snack-bar';\nimport { MatTooltipModule } from '@angular/material/tooltip';\n\nimport { IconModule } from '@visurel/iconify-angular';\n\nimport { LoginRoutingModule } from './login-routing.module';\nimport { LoginComponent } from './login.component';\n\n@NgModule({\n  declarations: [LoginComponent],\n  imports: [\n    CommonModule,\n    LoginRoutingModule,\n    FlexLayoutModule,\n    ReactiveFormsModule,\n    MatInputModule,\n    MatIconModule,\n    MatSnackBarModule,\n    IconModule,\n    MatTooltipModule,\n    MatButtonModule,\n    MatCheckboxModule,\n  ],\n})\nexport class LoginModule {\n}\n","import { HttpErrorResponse } from '@angular/common/http';\nimport { ChangeDetectionStrategy, ChangeDetectorRef, Component, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { MatSnackBar } from '@angular/material/snack-bar';\nimport { Router } from '@angular/router';\n\nimport { AngularTokenService } from 'angular-token';\n\nimport icVisibility from '@iconify/icons-ic/twotone-visibility';\nimport icVisibilityOff from '@iconify/icons-ic/twotone-visibility-off';\n\nimport { fadeInUp400ms } from '@vex/animations/fade-in-up.animation';\n\nimport { OmniauthCallbacksApi } from '@core/http/omniauth-callbacks-api.service';\nimport { environment } from '@environments/environment';\n\n@Component({\n  selector: 'vex-login',\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  animations: [\n    fadeInUp400ms,\n  ],\n})\nexport class LoginComponent implements OnInit {\n  form: FormGroup;\n\n  inputType = 'password';\n  visible = false;\n\n  icVisibility = icVisibility;\n  icVisibilityOff = icVisibilityOff;\n\n  constructor(private router: Router,\n              private fb: FormBuilder,\n              private cd: ChangeDetectorRef,\n              private snackbar: MatSnackBar,\n              private tokenService: AngularTokenService,\n              private omniauthCallbacksApi: OmniauthCallbacksApi\n  ) {}\n\n  ngOnInit() {\n    this.form = this.fb.group({\n      email: ['', Validators.required],\n      password: ['', Validators.required],\n    });\n  }\n\n  loginWithGoogle(): void {\n    this.tokenService.tokenOptions.oAuthBase = environment.apiUrl;\n    // this.tokenService.tokenOptions.oAuthWindowType = 'sameWindow';\n    this.tokenService.signInOAuth(\n      'google_oauth2'\n    ).subscribe(\n      res => {\n        this.router.navigate(['/']);\n      },\n      error => {\n\n      }\n    );\n  }\n\n  login() {\n    const form = this.form.value;\n\n    this.tokenService.signIn({\n      login:    form.email,\n      password: form.password,\n    }).subscribe(\n      res => {\n        this.router.navigate(['/']);\n      },\n      (error: HttpErrorResponse) => {\n        if (error.status === 401) {\n          this.snackbar.open('Incorrect username or password', 'close', {\n            duration: 2000,\n          });\n        } else {\n          this.snackbar.open('An unexpected error occurred, please try again later', 'close', {\n            duration: 2000,\n          });\n        }\n      }\n    );\n  }\n\n  toggleVisibility() {\n    if (this.visible) {\n      this.inputType = 'password';\n      this.visible = false;\n      this.cd.markForCheck();\n    } else {\n      this.inputType = 'text';\n      this.visible = true;\n      this.cd.markForCheck();\n    }\n  }\n}\n"]}